# 🚀 LibreTV 首次设置指南

## 🎯 系统特点

✅ **统一默认密码** - 所有用户首次使用相同的默认密码  
✅ **自定义密码设置** - 登录后可设置个人专属密码  
✅ **自动同步** - 一键同步所有配置文件  
✅ **双重输入支持** - 支持明文密码和哈希值登录  

## 📋 快速开始

### 1. 首次登录

**默认密码**: `admin123`

1. 访问你的 LibreTV 站点
2. 输入默认密码 `admin123`
3. 成功登录后进入主界面

### 2. 设置个人密码

1. 访问 `password-setup.html` 页面
2. 选择设置方式：
   - **明文密码**: 直接输入新密码
   - **哈希值**: 输入 SHA-256 哈希值
3. 点击"设置密码"
4. 复制生成的配置内容

### 3. 应用新配置

#### 方法一：使用同步脚本（推荐）
```bash
node password-sync.js [你的新密码]
```

#### 方法二：手动更新
1. 将生成的内容保存到 `config/master-config.js`
2. 运行同步脚本更新其他文件

### 4. 云端部署配置

如果你部署在云平台，还需要设置环境变量：

#### EdgeOne Pages
1. 进入 EdgeOne Pages 控制台
2. 选择你的项目
3. 设置环境变量 `PASSWORD = 你的新密码`
4. 重新部署

#### Vercel
1. 进入 Vercel 项目设置
2. 在 Environment Variables 添加 `PASSWORD`
3. 重新部署

#### Netlify  
1. 进入 Netlify 站点设置
2. 在 Environment variables 添加 `PASSWORD`
3. 重新部署

## 🔐 密码输入支持

系统支持两种密码输入方式：

### 明文密码
直接输入你设置的密码，如：`mypassword123`

### 哈希值
输入 SHA-256 哈希值，如：`a665a45920422f9d417e4867efdc4fb8a04a1f3fff1fa07e998e86f7f7a27ae3`

## 🛠️ 工具页面

- **`password-setup.html`** - 密码设置页面
- **`quick-fix.html`** - 诊断和修复工具
- **`password-sync.js`** - 密码同步脚本

## 📝 配置文件说明

### 主配置文件
- `config/master-config.js` - 主配置文件，所有密码的源头

### 自动同步的文件
- `js/auth-config.js` - 前端认证配置
- `config/config-loader.mjs` - Node.js 配置加载器
- `functions/proxy/[[path]].js` - EdgeOne 代理函数
- `simple-proxy.js` - 简化代理服务

## 🎉 使用流程总结

1. **首次登录**: 使用默认密码 `admin123`
2. **设置密码**: 访问 `password-setup.html` 设置个人密码
3. **同步配置**: 运行 `node password-sync.js` 同步所有文件
4. **云端配置**: 在部署平台设置环境变量（如需要）
5. **开始使用**: 用新密码登录，享受个性化服务！

## 🆘 常见问题

### Q: 忘记设置的密码怎么办？
A: 可以重新运行 `password-sync.js` 脚本设置新密码，或者查看 `config/master-config.js` 文件。

### Q: 哈希值怎么计算？
A: 可以使用在线 SHA-256 工具，或者在 `password-setup.html` 页面输入明文密码自动计算。

### Q: 多人使用同一个部署怎么办？
A: 每个人可以设置不同的密码，通过修改各自的配置文件实现。

---

**🎊 恭喜！现在你有了一个完全可定制的密码系统！**